Alibaba

netfux的Cloud已经进入维护模式，不在更新

还有一个目的就是为了推广阿里的产品，如果使用了SpringCloudAlibaba,最好使用alibaba整个体系产品

[官方文档](https://github.com/alibaba/spring-cloud-alibaba/blob/2021.x/README-zh.md)



功能(要实现的)

* 服务发现与注册
* 配置中心

* 服务限流和降级
* 消息驱动能力
* 分布式事务



组件

* Sentinel控制流量：流量控制、熔断降级、系统负载
* Nacos：服务注册与发现，配置管理
* RocketMQ：分布式消息系统
* Seata：分布式事务解决方案
* Alibaba Cloud SchedulerX：分布式任务调度



组件，架构

AlibabaCloud又是什么？



* 注册中心
* 服务调用



**keyword**

网关，配置中心，消息总线，熔断，Consul，链路追踪





# 注册中心



注册中心的主要功能：

* 服务注册于发现
* 负载均衡  Ribbon？Eureka？Feign？
* 故障转移



将服务的地址与服务名做映射，通过服务名调用，

* 服务地址修改不影响调用
* 负载均衡





Eureka Server 作为服务注册功能的服务器，它是服务注册中心。而系统中的其他微服务，使用 Eureka 的客户端连接到 Eureka Server，并维持心跳连接





**熔断**

**为什么需要熔断？**

不去调用服务，直接失败减少资源浪费

它可以实现快速失败，如果它在一段时间内侦测到许多类似的错误，会强迫其以后的多个调用快速失败，不再访问远程服务器，从而防止应用程序不断地尝试执行可能会失败的操作，使得应用程序继续执行而不用等待修正错误，或者浪费CPU时间去等到长时间的超时产生。

**熔断的逻辑**

请求后端服务失败数量超过一定比例(默认50%), 断路器会切换到开路状态(Open). 这时所有请求会直接失败而不会发送到后端服务. 断路器保持在开路状态一段时间后(默认5秒), 自动切换到半开路状态(HALF-OPEN). 这时会判断下一次请求的返回情况, 如果请求成功, 断路器切回闭路状态(CLOSED), 否则重新切换到开路状态(OPEN)



**服务降级**

